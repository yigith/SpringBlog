@model HomeIndexViewModel
@{
    ViewBag.Title = "Home Page";
}

<h1 class="my-4">
    My Blog Posts
</h1>

@foreach (var post in Model.Posts)
{
    <!-- Blog Post -->
    <div class="card mb-4 blog-post">
        @if (!string.IsNullOrEmpty(post.PhotoPath))
        {
            <img class="card-img-top" src="@Url.FeaturedImage(post.PhotoPath)" alt="Card image cap">
        }
        <div class="card-body">
            <h2 class="card-title">@post.Title</h2>

            <div class="blog-post-content">
                @Html.Raw(post.Content)
            </div>

            <a href="@Url.Action("Show","Post", new { id = post.Id, slug = post.Slug })" class="btn btn-primary mt-3">Read More &rarr;</a>
        </div>
        <div class="card-footer text-muted">
            Posted on @post.CreationTime.Value.ToShortDateString() by
            <a href="#">@(post.Author.DisplayName ?? "Anonymous")</a>
        </div>
    </div>
}

<!-- Pagination -->
<ul class="pagination justify-content-center mb-4">
    <li class="page-item">
        <a class="page-link" href="#">&larr; Older</a>
    </li>
    <li class="page-item disabled">
        <a class="page-link" href="#">Newer &rarr;</a>
    </li>
</ul>



@section scripts {
    <script>
        $(".blog-post-content").each(function () {
            if ($(this).outerHeight() >= 500) {
                $(this).addClass("long-text");
            }
        });
    </script>
}